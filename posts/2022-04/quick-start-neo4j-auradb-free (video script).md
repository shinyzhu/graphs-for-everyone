# 手把手快速上手 - 开始使用Neo4j AuraDB

> 2022-04-05 视频脚本

欢迎观看本期视频，我是亮小猪。这是一期快速上手演示视频，今天带大家体验的是Neo4j AuraDB免费版。那我们开始吧。

## 注册账号

我们打开 Neo4j 官网 `neo4j.com`，导航栏右侧有一个蓝色“Get Started”按钮，点击下拉菜单里的Neo4j AuraDB。

现在看到的是 Neo4j  AuraDB 介绍页面。

AuraDB 提供了3种层级的服务，免费版、专业版和企业版。我们点击免费版的“Start Free”按钮。然后就会打开AuraDB的账号注册页面。那我们来注册一个账号，输入邮箱，设置一个密码，点击“Register”按钮。

然后就注册成功了，而且已经登录好我的账号了。现在我们要做的事情，就是打开邮箱，验证一下邮箱地址，就正式完成账号的注册了。那我们现在我们点击“Go to Dashboard“按钮。新注册的账号需要同意服务协议，然后就可以打开数据库管理页面。

## 接下来是创建数据库

这里有两种服务层级，免费版和专业版。我们看一下免费版包含的具体内容。

- 1个永久免费的数据库。
- 数据量限制为5万节点、17.5万关系。
- 支持标准的APOC（apoc-core）。
- 3天不活跃后会自动停止。
- 当然，完全免费，还说明了不需要绑定信用卡。

在数据库详情这里，选择一个离我们比较近的数据中心，新加坡。然后输入数据库的名字。这里可以选择加载电影数据集，也可以选择新建一个空白数据库。那我们选择加载电影数据集，然后点击“Create Database”按钮。

系统会自动生成数据库的登录密码，一定要记录下来。后面没有地方能再找到这个密码了。记录好之后点击继续。

这时我们的数据库正在配置和部署中，需要稍等片刻。

在等待的间隙，我们可以看一下左侧的导航，数据库连接方式里，提供了多种编程语言的连接代码。比如.NET Core，GraphQL等等。另外还有专用的问题反馈网站，可以提交新的功能需求，和查看常见问题的解决方案。

我们回到数据库信息界面。数据库启动起来之后，状态变成了运行中。在右侧有3个按钮，分别对应Neo4j Bloom，Neo4j Browser和Neo4j Data Importer 3个产品。这里也可以看到运行时版本，和连接字符串，以及不同编程语言的连接代码，还有快照和导入数据的操作界面。

## 那我们就开始探索图数据

我们照例从 Neo4j Browser 开始，点击 **Query** 按钮打开Neo4j Browser。这里需要用户名和密码登录，用户名默认是neo4j，密码就是刚才我们记录下来的那个密码，然后点击连接，成功之后我们就可以运行查询和管理数据了。

我们打开左侧数据库信息，因为我选择加载了电影数据集，可以看到数据库里面已经有数据了，另外也可以看到，数据库运行时是企业版4.4。我们输入Cypher查询：`MATCH (n) RETURN n`来查看所有数据，可以看到查询结果，默认以图可视化的方式展现出来。我们也可以切换成表格，和文本的输出方式来展现。

在上次的 Desktop 快速上手文章里，我提到了可以用 Browser Guide。

### 通过 Browser Guide 探索电影数据集

在查询框里输入 `:play movies` 然后回车，我们就可以看到一个按步骤的教程，一般建议将教程主窗口置顶。

可以看到这个电影数据集探索教程基本上覆盖了数据的增删改查，以及图数据库特有的查询。

我们按照教程步骤来看一下，第二步里是创建数据，因为我们已经默认加载了数据，在这里就不用再创建了。

我们进入下一步，这些例子是查找数据，代码块是可以点击的，它会自动填入到Neo4j Browser的查询框里，我们只需要点运行就可以执行查询了。

再下一步是模式查询，比如找出Tom Hanks出演过的所有电影，点击代码块，然后运行，就可以看到 Tome Hanks 所有的电影。

再下一步是解决路径问题，比如这个问题，找出Kevin Bacon最多4跳之外的电影和演员，可以运行这个查询，可以看到非常多的节点，可以切换不同的展现方式。下一个例子是Bacon路径，找出Bacon到Meg Ryan之间的任意关系组成的最短路径，就可以运行这个查询，我们就可以看到这样一条路径，用图可视化的方式，非常的直观。

下一步是实现一个推荐系统，推荐系统就是找出相似的模式，比如这里的问题：找出跟Tom Hanks合作过的演员，再找到跟这些演员合作过但是没有跟Tom Hanks合作过的人，就可以用这样一个查询，可以看到分数最高的有Tom Cruise。那我们再来查询有谁可以介绍他们俩认识呢？这就是六度分隔理论的体现，可以运行这个查询来看一下结果。我们可以把展示的图拖得更清晰一点，就可以看到有5条路径，通过中间的3个人，就可以把他们俩连接在一起。

那再下一步是清理数据和总结，我们这里也先跳过。这就是Browser Guide的具体用法。

### 接下来使用 Neo4j Bloom 探索电影数据集

我们回到AuraDB管理页面，点击**Explore**按钮启动Neo4j Bloom，使用用户名neo4j，和刚才记录下来的密码登录。

Neo4j Bloom使用Perspective来管理查询，我们使用默认的场景。在查询框里可以输入关键字进行搜索，比如Tom Hanks，这里可以找到1个节点，我们在节点上点击鼠标右键，从菜单里选择Expand可以展开这个节点的关系，这里就能看到Tome Hanks参演过的所有电影了。我们还可以给可视化进行一些自定义，比如节点加上图标，改变关系的颜色。就可以让我们的可视化更直观。

我们也可以按照节点或关系来搜索，比如搜索Follows关系，就能看到这几个人之间的关注关系了。

### 使用Neo4j Data Importer管理数据导入

我们再回到 AuraDB 管理页面，点击**Importer**按钮打开 Neo4j Data Importer 这个工具，它是一个新发布的ETL工具。提供了数据加载、图数据建模、数据关系映射和直接写入数据库等功能，界面也是非常直观。大家可以亲自尝试一下。

## 结束语

好的，今天的 Neo4j AuraDB 快速上手的内容就这些，我们一步一步从注册账号开始，创建免费版数据库，使用Neo4j Browser查询数据库和运行Browser Guide，通过Neo4j Bloom进行了可视化探索，还介绍了新的ETL工具Data Importer。希望能给你一个轻松的上手指南。

以上就是本期视频的全部内容了，如果有什么问题欢迎联系我，也欢迎关注我们的公众号。我们下期再见。